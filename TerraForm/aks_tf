module "aks" {
  source  = "Azure/aks/azurerm"
  version = "X.Y.Z"  # Replace with the version of the module you're using

  resource_group_name = azurerm_resource_group.example.name
  location            = azurerm_resource_group.example.location
  dns_prefix          = "exampleaks"

  default_node_pool = {
    name       = "default"
    node_count = 3
    vm_size    = "Standard_DS2_v2"
  }

  # Enable system-assigned managed identity
  identity = {
    type = "SystemAssigned"
  }

  # Upgrade and auto upgrade profile configuration
  auto_upgrade_profile = {
    upgrade_channel = "none"  # Keeps your current upgrade channel setting

    node_os_upgrade_channel = {
      channel = "NodeImage"  # Set to NodeImage to keep your existing setting

      # Define the maintenance window
      maintenance_window = {
        day   = "Friday"
        start = "02:00"  # Start time (UTC)
        end   = "06:00"  # End time (UTC)
      }
    }
  }

  # Additional configurations
  network_profile = {
    network_plugin     = "azure"
    load_balancer_sku  = "Standard"
  }

  # Other necessary variables and outputs...
}
